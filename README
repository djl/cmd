shrt
====

shrt is an implementation of `Shaun Inman <http://shauninman.com/>`__'s `Shortwave <http://shortwaveapp.com/>`__, described thusly:

    an extensible quick-search and shortcut bookmark.


Usage
-----

1. Upload shrt.php and point your browser to it.  
2. Enter URL to your shrt/Shortwave text file.
3. Drag the bookmarklet onto your bookmarks bar.
4. Click bookmarklet.


Syntax
------

shrt features the standard Shortwave syntax:

* ``%s`` - will be replaced by any arguments you provide, or blank if none are provided.
* ``%d`` - the domain of the current site. (See notes)
* ``%r`` - the full URL of the current site. (See notes)
* ``%t`` - the title of the current page
* ``%c`` - the full given command
* ``>`` - comment to the end of the line.

Plus some extras:

* ``%{kittens}`` - a default argument, to be optionally overridden.
* ``%{%d}`` - ``%d`` argument nested inside of default argument.
* ``%{%r}`` - ``%r`` argument nested inside of default argument.


Pattern matching for your shrts file
------------------------------------

Define a PCRE-compatible pattern in the ``FILE_MATCH`` constant to have shrt match against it when loading your file.



Lockdown
--------

To disable shrt from generating new bookmarklets, simply set the ``IS_LOCKED`` constant to ``true``.


Examples
-----------

See examples.txt.


Notes
-----

* PHP must be compiled --with-curl
* JavaScript is required.
* shrt can read your current Shortwave file, but Shortwave probably can't read your shrt file.
* When upgrading to a new version or changing settings, an update to your bookmarklet may be required.
* shrt is not optimized at all, probably nowhere near the speed it could be.
* shrt has **no** XSS/CSRF protection -- eventually, it might
* The ``%d`` and ``%r`` arguments currently don't work with sites served over HTTPS


Todo
----

* Move referrer/domains into the bookmarklet
* Ability to use HTTP methods (GET, POST, PUT, DELETE) -- need to figure out syntax first.
* Update help page to better show search arguments.
* Allow definition of constants in shrts.txt file (ties into the ``help`` trigger?)
